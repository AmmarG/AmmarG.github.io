"use strict";function iframeGenerator(){var e=document.querySelectorAll(".ifram-data").length>0?document.querySelectorAll(".ifram-data"):null;null!=e&&e.forEach(function(e){var t=document.createElement("iframe");t.frameBorder=e.dataset.frameborder,t.src=e.dataset.src,t.scrolling=e.dataset.scrolling,t.title=e.dataset.title,t.width=e.dataset.width,t.height=e.dataset.height,t.id=e.dataset.id,e.parentNode.insertBefore(t,e.nextElementSibling)})}function isVisible(e){var t=e.getBoundingClientRect().top,n=e.getBoundingClientRect().bottom;return!!(t>=0&&n<=window.innerHeight)}function getSiblings(e){for(var t=[],n=e.parentNode.firstChild;n;n=n.nextSibling)1===n.nodeType&&n!==e&&t.push(n);return t}function isScrolledIntoView(e,t){isVisible(e)&&-1===arr.indexOf(e)&&(arr.push(e),t(e))}function checkVisible(e){var t=document.getElementById(e),n=t.getBoundingClientRect(),i=t.querySelector("#last").getBoundingClientRect(),o={};if(o.top=i.top-n.top,o.right=i.right-n.right,o.bottom=i.bottom-n.bottom,o.left=i.left-n.left,Math.abs(o.right)<=n.width)return o.left}function sliderStep(e,t){e.style.transform="translate3d("+t+"px, 0px, 0px)",e.style.webkitTransform="translate3d("+t+"px, 0px, 0px)",e.style.MozTransform="translate3d("+t+"px, 0px, 0px)",e.style.msTransform="translate3d("+t+"px, 0px, 0px)",e.setAttribute("step",t)}function transitionEndEventName(){var e,t=document.createElement("div"),n={transition:"transitionend",OTransition:"otransitionend",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in n)if(n.hasOwnProperty(e)&&void 0!==t.style[e])return n[e]}function moveOneStep(e){function t(e){var t=e.touches[0];g.sX=t.screenX}var n=e.querySelector(".slider"),i=n.children,o=n.querySelector(".active"),a=Array.prototype.indexOf.call(i,o),r=0,s=e.querySelector("#next"),c=e.querySelector("#prev"),l=e.querySelector("#last");if(o){for(var d=0;d<a-1;d++)r+=i[d].offsetWidth;sliderStep(n,r);var u=a-1,g={};g.sX=0,g.eX=0;n.addEventListener("touchstart",t,!1),n.addEventListener("touchmove",function(e){var t=e.touches[0];g.eX=t.screenX},!1),n.addEventListener("touchend",function(o){var a=checkVisible(e.id),s=r+i[u].offsetWidth;if(g.eX-20>g.sX||g.eX+20<g.sX)if(g.eX>g.sX)if(a){n.removeEventListener("touchMove",t);var c=parseInt(n.getAttribute("step"))+Math.abs(l.getBoundingClientRect().left);sliderStep(n,c)}else u<i.length-1&&(r=s,sliderStep(n,s),u+=1);else if(u>=1){var d=r-i[u-=1].offsetWidth;r=d,sliderStep(n,d)}},!1),s.addEventListener("click",function(t){!0===e.querySelector("#prev").disabled&&(e.querySelector("#prev").disabled=!1);l.getBoundingClientRect();var o=r+i[u].offsetWidth;r=o,u+=1;if(checkVisible(e.id))e.querySelector("#next").disabled=!0;else{var a=transitionEndEventName();n.addEventListener(a,function(){if(checkVisible(e.id)){var t=o+Math.abs(checkVisible(e.id));sliderStep(n,t),e.querySelector("#next").disabled=!0}}),sliderStep(n,o),e.querySelector("#next").disabled=!0,setTimeout(function(){e.querySelector("#next").disabled=!1},250)}},!1),c.addEventListener("click",function(t){if((u-=1)>0){!0===e.querySelector("#next").disabled&&(e.querySelector("#next").disabled=!1);var o=r-i[u].offsetWidth;sliderStep(n,o),r=o,e.querySelector("#prev").disabled=!0,setTimeout(function(){e.querySelector("#prev").disabled=!1},250)}else 0===u&&(o=r-i[u].offsetWidth,sliderStep(n,o),r=o,e.querySelector("#prev").disabled=!0)},!1)}else console.log("please set active")}function rotateForward(){var e=Carousel.carousel,t=e.children,n=t[0],i=t[t.length-1];e.insertBefore(i,n)}function rotateBackward(){var e=Carousel.carousel,t=e.children,n=t[0],i=t[t.length-1];e.insertBefore(n,i.nextSibling)}function animate(e,t,n){Carousel.wrapper;var i=Carousel.carousel,o=t-e,a=Carousel.duration,r=Date.now();i.style.top=e+"px";var s=window.setInterval(function(){var t=Date.now()-r;if(t>=a)return window.clearInterval(s),void n();var c=e+((t/=a/2)<1?o/2*Math.pow(t,3):o/2*(Math.pow(t-2,3)+2));i.style.top=c+"px"},1e3/60)}function iniSearchAutoComplete(){$.widget("custom.catcomplete",$.ui.autocomplete,{_create:function(){this._super(),this.widget().menu("option","items","> :not(.ui-autocomplete-category)")},_renderMenu:function(e,t){var n=this,i="";e.append('<li class="search_news"><a>البحث في الأخبار</a></li>'),$.each(t,function(t,o){var a;o.category!=i&&(e.append("<li class='ui-autocomplete-category'>"+o.category+"</li>"),i=o.category),a=n._renderItemData(e,o),o.category&&(a.attr("aria-label",o.category+" : "+o.label),a.attr("aria-link",o.url))})}})}function loadSearch(){var e;$(".section-aswaq .search-input").catcomplete({delay:0,source:function(t,n){var i=new RegExp(t.term,"i");e&&e.abort(),e=$.ajax({url:"/.resources/aa-templating-lm/webresources/static/aswaq/market-data.json",dataType:"json",cache:!1,success:function(e){var t=$.map(e.list,function(e){if(i.test(e.label))return{label:e.label,category:e.category,url:e.url}});0==t.length&&(t=[{label:"",category:"",url:""}]),n(t)}})},minlength:0,select:function(e,t){if(console.log("select"),void 0===t.item){var n=$(".section-aswaq .search-input").val();window.location.href=seartchPageLink+"?lang=ar&q="+n}else window.location.href=t.item.url}})}!function(){function e(e){e.preventDefault(),a.classList.toggle("noscroll"),l.classList.toggle("show"),o.classList.toggle("overflowfix")}function t(e){27==(e=e||window.event).keyCode&&l.classList.contains("show")&&(a.classList.remove("noscroll"),l.classList.remove("show"),o.classList.remove("overflowfix"))}var n=document.querySelector(".mobile-menu"),i=document.querySelector(".overlay"),o=document.querySelector("nav .main-content"),a=(o.querySelector("main-content"),document.getElementById("slider"),document.querySelector("body")),r=document.querySelectorAll(".menu-icon"),s=document.querySelectorAll(".submenu"),c=(document.querySelector(".submenu.current-section"),document.querySelectorAll(".btn-search")),l=document.querySelector(".search-overlay"),d=document.querySelector(".search-overlay .close"),u=document.querySelector(".mobile-search"),g=document.querySelector(".font-resize"),v=document.querySelector("article"),f=document.querySelector(".breaking-news"),m=document.querySelector(".breaking-news p"),h=document.querySelector(".mega-menu"),p=document.getElementById("main-video");if(n.addEventListener("click",function(){i.classList.toggle("show"),o.classList.toggle("show"),n.classList.toggle("cross"),a.classList.toggle("noscroll")}),i.addEventListener("touchstart",function(e){e.preventDefault(),i.classList.toggle("show"),o.classList.toggle("show"),n.classList.toggle("cross"),a.classList.toggle("noscroll")},!1),r.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),h.classList.toggle("show"),this.classList.toggle("active")})},!1),c.forEach(function(t){void 0!==t&&null!==t&&t.addEventListener("click",e,!1)}),u.addEventListener("click",e,!1),document.addEventListener("keyup",function(e){l.classList.contains("show")?document.addEventListener("keyup",t,!1):document.removeEventListener("keyup",t)},!1),d.addEventListener("click",function(e){e.preventDefault(),l.classList.remove("show"),a.classList.remove("noscroll"),o.classList.remove("overflowfix")}),g&&g.addEventListener("click",function(e){e.preventDefault(),v.classList.toggle("bigger")}),(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)||navigator.userAgent.match(/Firefox/i))&&s.forEach(function(e){e.addEventListener("click",function(e){if("a"!==e.target.tagName.toLowerCase()){e.preventDefault(),e.stopPropagation(),this.classList.toggle("active");for(var t=getSiblings(this),n=0;n<t.length;n++)t[n].classList.contains("active")&&t[n].classList.remove("active")}},!1)}),p)var w=p.getBoundingClientRect().top,y=Math.floor(w+p.offsetHeight+window.pageYOffset);window.addEventListener("scroll",function(){if(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)||navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&navigator.userAgent.match(/Android/i)||navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&navigator.userAgent.match(/webOS/i));else{var e=document.querySelector("header"),t=(document.querySelector("h1.logo"),document.querySelector("header nav"));window.pageYOffset>10?e.classList.add("sticky"):e.classList.remove("sticky"),window.pageYOffset>70?t.setAttribute("style","top="+window.pageYOffset+"px"):(t.classList.remove("moveR"),a.classList.remove("margintop")),window.pageYOffset>190?(t.classList.add("moveR"),a.classList.add("margintop")):(t.classList.remove("moveR"),a.classList.remove("margintop")),window.pageYOffset>190?(t.classList.add("moveD"),a.classList.add("margintop")):t.classList.remove("moveD"),h.classList.contains("show")&&(h.classList.remove("show"),r.forEach(function(e){e.classList.remove("active")})),p&&(window.pageYOffset>y&&p.classList.add("video-sticky"),window.pageYOffset<y-200&&p.classList.remove("video-sticky"))}}),window.onload=setTimeout(function(){["slider","dateSlider","slider1"].forEach(function(e){var t=document.getElementById(e);t&&(isVisible(t)?moveOneStep(t):window.onscroll=function(){isScrolledIntoView(t,moveOneStep)})})},0);var b=new XMLHttpRequest,L="",S="";b.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(this.responseText);""!=(L=e.result.text)?L!=S&&(m.innerText=L,f.classList.add("show"),S=L):f.classList.contains("show")&&f.classList.remove("show")}},b.open("GET","https://feed.alarabiya.net/breakingNews/ar.json",!0),b.send(),setInterval(function(){b.open("GET","https://feed.alarabiya.net/breakingNews/ar.json",!0),b.send()},5e3);var A=document.querySelector(".search-icon");A&&A.addEventListener("click",function(e){e.preventDefault(),document.getElementById("search-form").submit()});var x=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),E=!!(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)||navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&navigator.userAgent.match(/Android/i)||navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&navigator.userAgent.match(/webOS/i));if(!x&&!E){var k=document.querySelectorAll(".teaser-video")||"";k.length>0&&k.forEach(function(e){var t,n=e.querySelector("video");e.addEventListener("mouseenter",function(i){t&&clearInterval(t);var o=e.dataset.video;n.src=o,n.play(),n.muted=!0,e.classList.add("playing"),t=setInterval(function(){n.pause(),n.currentTime=0,e.classList.remove("playing")},3e3)}),e.addEventListener("mouseleave",function(i){n.pause(),n.currentTime=0,e.classList.remove("playing"),t&&clearInterval(t)})})}}();var arr=[];$(document).ready(function(){$(".font-resize a, .prnt a").removeAttr("href"),$(".tabs-menu a").click(function(e){e.preventDefault(),$(this).parent().addClass("current"),$(this).parent().siblings().removeClass("current");var t=$(this).attr("href");$(this).parent().parent().siblings(".tab").children().not(t).css("display","none"),$(t).fadeIn()}),$(".aa-live .close-btn").click(function(){$(".aa-live").addClass("hide-live")}),$(".live-open").click(function(){$(".aa-live").removeClass("hide-live")}),$("article .teaser-tools .share").click(function(){$(this).toggleClass("show-icons")})});var Carousel={duration:300};window.onload=function(){try{var e=Carousel.carousel=document.getElementById("ver-carousel"),t=e.getElementsByTagName("li"),n=t.length,i=Carousel.width;t.height;e.style.width=i+"px";for(var o=0;o<n;++o)t[o];Carousel.rowHeight=e.getElementsByTagName("li")[0].offsetHeight,e.style.visibility="visible";var a=Carousel.wrapper=document.createElement("div");a.id="carouselWrapper",a.style.width=e.offsetWidth+"px",a.style.height=e.offsetHeight+"px",e.parentNode.insertBefore(a,e),a.appendChild(e);var r=document.getElementById("caro-prev"),s=document.getElementById("caro-next");r.onclick=function(){r.disabled=s.disabled=!0,rotateForward(),animate(-Carousel.rowHeight,0,function(){e.style.top="0",r.disabled=s.disabled=!1})},s.onclick=function(){r.disabled=s.disabled=!0,animate(0,-Carousel.rowHeight,function(){rotateBackward(),e.style.top="0",r.disabled=s.disabled=!1})}}catch(e){console.log("error in windowLoad"+e.message)}try{iframeGenerator(),iFrameResize({log:!1,checkOrigin:!1})}catch(e){console.log("error in initalizing Iframes"+e.message)}},$(document).ready(function(){try{$(".section-aswaq  .search-input").length&&(iniSearchAutoComplete(),loadSearch())}catch(e){console.log(e.message)}}),$(document).ready(function(){$(window).scroll(function(){$(document).scrollTop()>=$("header.sticky").height()?($(".takeover_outer").addClass("fixed"),$(".takeover_outer").css("top","64px")):($(".takeover_outer").removeClass("fixed"),$(".takeover_outer").css("top","262px"),$(".section-page .takeover_outer").css("top","325px"))})});var isMobile=!!(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)||navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&navigator.userAgent.match(/Android/i)||navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&navigator.userAgent.match(/webOS/i)),debounce=function(e){return setTimeout(function(){var t=window.pageYOffset;e.forEach(function(e){if(e.offsetTop<window.innerHeight+t){var n=isMobile?e.dataset.srcMobile:e.dataset.srcDisktop;e.src=n,e.classList.remove("lazy")}})},20)};document.addEventListener("DOMContentLoaded",function(){function e(){t&&clearTimeout(t),t=debounce(n)}var t,n=document.querySelectorAll("img.lazy");n.forEach(function(t){isVisible(t)&&e()}),document.addEventListener("scroll",e),window.addEventListener("resize",e),window.addEventListener("orientationChange",e),0==n.length&&(document.removeEventListener("scroll",e),window.removeEventListener("resize",e),window.removeEventListener("orientationChange",e))}),$(document).ready(function(){$("ul.tm-nav li").on("click",function(){$(this).parent().find("li.active").removeClass("active"),$(this).addClass("active")}),$(".tm-sequence ul li a").click(function(e){e.preventDefault();var t=$($(this).attr("href"));if(t.length){var n=t.offset().top;$("body, html").animate({scrollTop:n-90+"px"},600)}});var e=$(window),t=$(".tm-sequence"),n=t.innerHeight(),i=$("footer").offset().top,o=t.offset();e.scroll(function(){e.scrollTop()>o.top?t.addClass("fixed"):t.removeClass("fixed"),e.scrollTop()+n>i?t.css({top:-(e.scrollTop()+n-i)}):t.css({top:"80"})})});