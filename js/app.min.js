"use strict";function isVisible(e){var t=e.getBoundingClientRect().top,o=e.getBoundingClientRect().bottom;return!!(t>=0&&o<=window.innerHeight)}function getSiblings(e){for(var t=[],o=e.parentNode.firstChild;o;o=o.nextSibling)1===o.nodeType&&o!==e&&t.push(o);return t}function isScrolledIntoView(e,t){isVisible(e)&&-1===arr.indexOf(e)&&(arr.push(e),t(e))}function checkVisible(e){var t=document.getElementById(e),o=t.getBoundingClientRect(),n=t.querySelector("#last").getBoundingClientRect(),i={};if(i.top=n.top-o.top,i.right=n.right-o.right,i.bottom=n.bottom-o.bottom,i.left=n.left-o.left,Math.abs(i.right)<=o.width)return i.left}function sliderStep(e,t){e.style.transform="translate3d("+t+"px, 0px, 0px)",e.style.webkitTransform="translate3d("+t+"px, 0px, 0px)",e.style.MozTransform="translate3d("+t+"px, 0px, 0px)",e.style.msTransform="translate3d("+t+"px, 0px, 0px)",e.setAttribute("step",t)}function transitionEndEventName(){var e,t=document.createElement("div"),o={transition:"transitionend",OTransition:"otransitionend",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in o)if(o.hasOwnProperty(e)&&void 0!==t.style[e])return o[e]}function moveOneStep(e){function t(e){var t=e.touches[0];g.sX=t.screenX}var o=e.querySelector(".slider"),n=o.children,i=o.querySelector(".active"),s=Array.prototype.indexOf.call(n,i),r=0,a=e.querySelector("#next"),c=e.querySelector("#prev"),l=e.querySelector("#last");if(i){for(var d=0;d<s-1;d++)r+=n[d].offsetWidth;sliderStep(o,r);var u=s-1,g={};g.sX=0,g.eX=0;o.addEventListener("touchstart",t,!1),o.addEventListener("touchmove",function(e){var t=e.touches[0];g.eX=t.screenX},!1),o.addEventListener("touchend",function(i){var s=checkVisible(e.id),a=r+n[u].offsetWidth;if(g.eX-20>g.sX||g.eX+20<g.sX)if(g.eX>g.sX)if(s){o.removeEventListener("touchMove",t);var c=parseInt(o.getAttribute("step"))+Math.abs(l.getBoundingClientRect().left);sliderStep(o,c)}else u<n.length-1&&(r=a,sliderStep(o,a),u+=1);else if(u>=1){var d=r-n[u-=1].offsetWidth;r=d,sliderStep(o,d)}},!1),a.addEventListener("click",function(t){!0===e.querySelector("#prev").disabled&&(e.querySelector("#prev").disabled=!1);l.getBoundingClientRect();var i=r+n[u].offsetWidth;r=i,u+=1;if(checkVisible(e.id))e.querySelector("#next").disabled=!0;else{var s=transitionEndEventName();o.addEventListener(s,function(){if(checkVisible(e.id)){var t=i+Math.abs(checkVisible(e.id));sliderStep(o,t),e.querySelector("#next").disabled=!0}}),sliderStep(o,i),e.querySelector("#next").disabled=!0,setTimeout(function(){e.querySelector("#next").disabled=!1},250)}},!1),c.addEventListener("click",function(t){if((u-=1)>0){!0===e.querySelector("#next").disabled&&(e.querySelector("#next").disabled=!1);var i=r-n[u].offsetWidth;sliderStep(o,i),r=i,e.querySelector("#prev").disabled=!0,setTimeout(function(){e.querySelector("#prev").disabled=!1},250)}else 0===u&&(i=r-n[u].offsetWidth,sliderStep(o,i),r=i,e.querySelector("#prev").disabled=!0)},!1)}else console.log("please set active")}function rotateForward(){var e=Carousel.carousel,t=e.children,o=t[0],n=t[t.length-1];e.insertBefore(n,o)}function rotateBackward(){var e=Carousel.carousel,t=e.children,o=t[0],n=t[t.length-1];e.insertBefore(o,n.nextSibling)}function animate(e,t,o){Carousel.wrapper;var n=Carousel.carousel,i=t-e,s=Carousel.duration,r=Date.now();n.style.top=e+"px";var a=window.setInterval(function(){var t=Date.now()-r;if(t>=s)return window.clearInterval(a),void o();var c=e+((t/=s/2)<1?i/2*Math.pow(t,3):i/2*(Math.pow(t-2,3)+2));n.style.top=c+"px"},1e3/60)}function iniSearchAutoComplete(){$.widget("custom.catcomplete",$.ui.autocomplete,{_create:function(){this._super(),this.widget().menu("option","items","> :not(.ui-autocomplete-category)")},_renderMenu:function(e,t){var o=this,n="";e.append('<li class="search_news"><a>البحث في الأخبار</a></li>'),$.each(t,function(t,i){var s;i.category!=n&&(e.append("<li class='ui-autocomplete-category'>"+i.category+"</li>"),n=i.category),s=o._renderItemData(e,i),i.category&&(s.attr("aria-label",i.category+" : "+i.label),s.attr("aria-link",i.url))})}})}function loadSearch(){var e;$(".section-aswaq .search-input").catcomplete({delay:0,source:function(t,o){var n=new RegExp(t.term,"i");e&&e.abort(),e=$.ajax({url:"/.resources/aa-templating-lm/webresources/static/aswaq/market-data.json",dataType:"json",cache:!1,success:function(e){var t=$.map(e.list,function(e){if(n.test(e.label))return{label:e.label,category:e.category,url:e.url}});0==t.length&&(t=[{label:"",category:"",url:""}]),o(t)}})},minlength:0,select:function(e,t){if(console.log("select"),void 0===t.item){console.log("select undefined");var o=$(".section-aswaq .search-input").val();window.location.href=seartchPageLink+"?lang=ar&q="+o}else console.log(t.item.url),window.location.href=t.item.url}})}!function(){function e(e){e.preventDefault(),s.classList.toggle("noscroll"),l.classList.toggle("show"),i.classList.toggle("overflowfix")}function t(e){27==(e=e||window.event).keyCode&&l.classList.contains("show")&&(s.classList.remove("noscroll"),l.classList.remove("show"),i.classList.remove("overflowfix"))}var o=document.querySelector(".mobile-menu"),n=document.querySelector(".overlay"),i=document.querySelector("nav .main-content"),s=(i.querySelector("main-content"),document.getElementById("slider"),document.querySelector("body")),r=document.querySelectorAll(".menu-icon"),a=document.querySelectorAll(".submenu"),c=(document.querySelector(".submenu.current-section"),document.querySelectorAll(".btn-search")),l=document.querySelector(".search-overlay"),d=document.querySelector(".search-overlay .close"),u=document.querySelector(".mobile-search"),g=document.querySelector(".font-resize"),v=document.querySelector("article"),f=document.querySelector(".breaking-news"),m=document.querySelector(".breaking-news p"),h=document.querySelector(".mega-menu"),p=document.getElementById("main-video");if(o.addEventListener("click",function(){n.classList.toggle("show"),i.classList.toggle("show"),o.classList.toggle("cross"),s.classList.toggle("noscroll")}),n.addEventListener("touchstart",function(e){e.preventDefault(),n.classList.toggle("show"),i.classList.toggle("show"),o.classList.toggle("cross"),s.classList.toggle("noscroll")},!1),r.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),h.classList.toggle("show"),this.classList.toggle("active")})},!1),c.forEach(function(t){void 0!==t&&null!==t&&t.addEventListener("click",e,!1)}),u.addEventListener("click",e,!1),document.addEventListener("keyup",function(e){l.classList.contains("show")?document.addEventListener("keyup",t,!1):document.removeEventListener("keyup",t)},!1),d.addEventListener("click",function(e){e.preventDefault(),l.classList.remove("show"),s.classList.remove("noscroll"),i.classList.remove("overflowfix")}),g&&g.addEventListener("click",function(e){e.preventDefault(),v.classList.toggle("bigger")}),navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)||navigator.userAgent.match(/Firefox/i))a.forEach(function(e){e.addEventListener("click",function(e){if("a"!==e.target.tagName.toLowerCase()){e.preventDefault(),e.stopPropagation(),this.classList.toggle("active");for(var t=getSiblings(this),o=0;o<t.length;o++)t[o].classList.contains("active")&&t[o].classList.remove("active")}},!1)});else{var y=document.querySelector(".alhadath-nav");y&&setInterval(function(){y.classList.toggle("switch")},1e4)}if(p)var w=p.getBoundingClientRect().top,b=Math.floor(w+p.offsetHeight+window.pageYOffset);window.addEventListener("scroll",function(){if(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)||navigator.userAgent.match(/Firefox/i));else{var e=document.querySelector("header"),t=(document.querySelector("h1.logo"),document.querySelector("header nav"));window.pageYOffset>10?e.classList.add("sticky"):e.classList.remove("sticky"),window.pageYOffset>70?t.setAttribute("style","top="+window.pageYOffset+"px"):(t.classList.remove("moveR"),s.classList.remove("margintop")),window.pageYOffset>190?(t.classList.add("moveR"),s.classList.add("margintop")):(t.classList.remove("moveR"),s.classList.remove("margintop")),window.pageYOffset>190?(t.classList.add("moveD"),s.classList.add("margintop")):t.classList.remove("moveD"),h.classList.contains("show")&&(h.classList.remove("show"),r.forEach(function(e){e.classList.remove("active")})),p&&(window.pageYOffset>b&&p.classList.add("video-sticky"),window.pageYOffset<b-200&&p.classList.remove("video-sticky"))}}),window.onload=setTimeout(function(){["slider","dateSlider","slider1"].forEach(function(e){var t=document.getElementById(e);t&&(isVisible(t)?moveOneStep(t):window.onscroll=function(){isScrolledIntoView(t,moveOneStep)})})},0);var L=new XMLHttpRequest,S="",k="";L.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(this.responseText);""!=(S=e.result.text)?S!=k&&(m.innerText=S,f.classList.add("show"),k=S):f.classList.contains("show")&&f.classList.remove("show")}},L.open("GET","https://feed.alarabiya.net/breakingNews/ar.json",!0),L.send(),setInterval(function(){L.open("GET","https://feed.alarabiya.net/breakingNews/ar.json",!0),L.send()},5e3);document.querySelector(".search-icon").addEventListener("click",function(e){e.preventDefault(),document.getElementById("search-form").submit()})}();var arr=[];$(document).ready(function(){$(".font-resize a, .prnt a").removeAttr("href"),$(".tabs-menu a").click(function(e){e.preventDefault(),$(this).parent().addClass("current"),$(this).parent().siblings().removeClass("current");var t=$(this).attr("href");$(this).parent().parent().siblings(".tab").children().not(t).css("display","none"),$(t).fadeIn()}),$(".aa-live .close-btn").click(function(){$(".aa-live").addClass("hide-live")}),$(".live-open").click(function(){$(".aa-live").removeClass("hide-live")}),$("article .teaser-tools .share").click(function(){$(this).toggleClass("show-icons")})});var Carousel={duration:300};window.onload=function(){try{var e=Carousel.carousel=document.getElementById("ver-carousel"),t=e.getElementsByTagName("li"),o=t.length,n=Carousel.width;t.height;e.style.width=n+"px";for(var i=0;i<o;++i)t[i];Carousel.rowHeight=e.getElementsByTagName("li")[0].offsetHeight,e.style.visibility="visible";var s=Carousel.wrapper=document.createElement("div");s.id="carouselWrapper",s.style.width=e.offsetWidth+"px",s.style.height=e.offsetHeight+"px",e.parentNode.insertBefore(s,e),s.appendChild(e);var r=document.getElementById("caro-prev"),a=document.getElementById("caro-next");r.onclick=function(){r.disabled=a.disabled=!0,rotateForward(),animate(-Carousel.rowHeight,0,function(){e.style.top="0",r.disabled=a.disabled=!1})},a.onclick=function(){r.disabled=a.disabled=!0,animate(0,-Carousel.rowHeight,function(){rotateBackward(),e.style.top="0",r.disabled=a.disabled=!1})}}catch(e){console.log("error in windowLoad"+e.message)}},$(document).ready(function(){try{$(".section-aswaq  .search-input").length&&(console.log("start init search"),iniSearchAutoComplete(),loadSearch(),console.log("end init search"))}catch(e){console.log(e.message)}iFrameResize({log:!1,checkOrigin:!1})}),$(document).ready(function(){$(window).scroll(function(){$(document).scrollTop()>=$("header.sticky").height()?($(".takeover_outer").addClass("fixed"),$(".takeover_outer").css("top","64px")):($(".takeover_outer").removeClass("fixed"),$(".takeover_outer").css("top","262px"),$(".section-page .takeover_outer").css("top","325px"))})});