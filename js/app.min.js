"use strict";function iframeGenerator(){var e=document.querySelectorAll(".ifram-data").length>0?document.querySelectorAll(".ifram-data"):null;null!=e&&e.forEach(function(e){var t=document.createElement("iframe");t.frameBorder=e.dataset.frameborder,t.src=e.dataset.src,t.scrolling=e.dataset.scrolling,t.title=e.dataset.title,t.width=e.dataset.width,t.height=e.dataset.height,t.id=e.dataset.id,e.parentNode.insertBefore(t,e.nextElementSibling)})}function isVisible(e){var t=e.getBoundingClientRect().top,o=e.getBoundingClientRect().bottom;return!!(t>=0&&o<=window.innerHeight)}function getSiblings(e){for(var t=[],o=e.parentNode.firstChild;o;o=o.nextSibling)1===o.nodeType&&o!==e&&t.push(o);return t}function isScrolledIntoView(e,t){isVisible(e)&&-1===arr.indexOf(e)&&(arr.push(e),t(e))}function checkVisible(e){var t=document.getElementById(e),o=t.getBoundingClientRect(),n=t.querySelector("#last").getBoundingClientRect(),i={};if(i.top=n.top-o.top,i.right=n.right-o.right,i.bottom=n.bottom-o.bottom,i.left=n.left-o.left,Math.abs(i.right)<=o.width)return i.left}function sliderStep(e,t){e.style.transform="translate3d("+t+"px, 0px, 0px)",e.style.webkitTransform="translate3d("+t+"px, 0px, 0px)",e.style.MozTransform="translate3d("+t+"px, 0px, 0px)",e.style.msTransform="translate3d("+t+"px, 0px, 0px)",e.setAttribute("step",t)}function transitionEndEventName(){var e,t=document.createElement("div"),o={transition:"transitionend",OTransition:"otransitionend",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in o)if(o.hasOwnProperty(e)&&void 0!==t.style[e])return o[e]}function moveOneStep(e){function t(e){var t=e.touches[0];f.sX=t.screenX}var o=e.querySelector(".slider"),n=o.children,i=o.querySelector(".active"),r=Array.prototype.indexOf.call(n,i),a=0,s=e.querySelector("#next"),c=e.querySelector("#prev"),l=e.querySelector("#last");if(i){for(var d=0;d<r-1;d++)a+=n[d].offsetWidth;sliderStep(o,a);var u=r-1,f={};f.sX=0,f.eX=0;o.addEventListener("touchstart",t,!1),o.addEventListener("touchmove",function(e){var t=e.touches[0];f.eX=t.screenX},!1),o.addEventListener("touchend",function(i){var r=checkVisible(e.id),s=a+n[u].offsetWidth;if(f.eX-20>f.sX||f.eX+20<f.sX)if(f.eX>f.sX)if(r){o.removeEventListener("touchMove",t);var c=parseInt(o.getAttribute("step"))+Math.abs(l.getBoundingClientRect().left);sliderStep(o,c)}else u<n.length-1&&(a=s,sliderStep(o,s),u+=1);else if(u>=1){var d=a-n[u-=1].offsetWidth;a=d,sliderStep(o,d)}},!1),s.addEventListener("click",function(t){!0===e.querySelector("#prev").disabled&&(e.querySelector("#prev").disabled=!1);l.getBoundingClientRect();var i=a+n[u].offsetWidth;a=i,u+=1;if(checkVisible(e.id))e.querySelector("#next").disabled=!0;else{var r=transitionEndEventName();o.addEventListener(r,function(){if(checkVisible(e.id)){var t=i+Math.abs(checkVisible(e.id));sliderStep(o,t),e.querySelector("#next").disabled=!0}}),sliderStep(o,i),e.querySelector("#next").disabled=!0,setTimeout(function(){e.querySelector("#next").disabled=!1},250)}},!1),c.addEventListener("click",function(t){if((u-=1)>0){!0===e.querySelector("#next").disabled&&(e.querySelector("#next").disabled=!1);var i=a-n[u].offsetWidth;sliderStep(o,i),a=i,e.querySelector("#prev").disabled=!0,setTimeout(function(){e.querySelector("#prev").disabled=!1},250)}else 0===u&&(i=a-n[u].offsetWidth,sliderStep(o,i),a=i,e.querySelector("#prev").disabled=!0)},!1)}else console.log("please set active")}function rotateForward(){var e=Carousel.carousel,t=e.children,o=t[0],n=t[t.length-1];e.insertBefore(n,o)}function rotateBackward(){var e=Carousel.carousel,t=e.children,o=t[0],n=t[t.length-1];e.insertBefore(o,n.nextSibling)}function animate(e,t,o){Carousel.wrapper;var n=Carousel.carousel,i=t-e,r=Carousel.duration,a=Date.now();n.style.top=e+"px";var s=window.setInterval(function(){var t=Date.now()-a;if(t>=r)return window.clearInterval(s),void o();var c=e+((t/=r/2)<1?i/2*Math.pow(t,3):i/2*(Math.pow(t-2,3)+2));n.style.top=c+"px"},1e3/60)}function iniSearchAutoComplete(){$.widget("custom.catcomplete",$.ui.autocomplete,{_create:function(){this._super(),this.widget().menu("option","items","> :not(.ui-autocomplete-category)")},_renderMenu:function(e,t){var o=this,n="";e.append('<li class="search_news"><a>البحث في الأخبار</a></li>'),$.each(t,function(t,i){var r;i.category!=n&&(e.append("<li class='ui-autocomplete-category'>"+i.category+"</li>"),n=i.category),r=o._renderItemData(e,i),i.category&&(r.attr("aria-label",i.category+" : "+i.label),r.attr("aria-link",i.url))})}})}function loadSearch(){var e;$(".section-aswaq .search-input").catcomplete({delay:0,source:function(t,o){var n=new RegExp(t.term,"i");e&&e.abort(),e=$.ajax({url:"/.resources/aa-templating-lm/webresources/static/aswaq/market-data.json",dataType:"json",cache:!1,success:function(e){var t=$.map(e.list,function(e){if(n.test(e.label))return{label:e.label,category:e.category,url:e.url}});0==t.length&&(t=[{label:"",category:"",url:""}]),o(t)}})},minlength:0,select:function(e,t){if(console.log("select"),void 0===t.item){console.log("select undefined");var o=$(".section-aswaq .search-input").val();window.location.href=seartchPageLink+"?lang=ar&q="+o}else console.log(t.item.url),window.location.href=t.item.url}})}!function(){function e(e){e.preventDefault(),r.classList.toggle("noscroll"),l.classList.toggle("show"),i.classList.toggle("overflowfix")}function t(e){27==(e=e||window.event).keyCode&&l.classList.contains("show")&&(r.classList.remove("noscroll"),l.classList.remove("show"),i.classList.remove("overflowfix"))}var o=document.querySelector(".mobile-menu"),n=document.querySelector(".overlay"),i=document.querySelector("nav .main-content"),r=(i.querySelector("main-content"),document.getElementById("slider"),document.querySelector("body")),a=document.querySelectorAll(".menu-icon"),s=document.querySelectorAll(".submenu"),c=(document.querySelector(".submenu.current-section"),document.querySelectorAll(".btn-search")),l=document.querySelector(".search-overlay"),d=document.querySelector(".search-overlay .close"),u=document.querySelector(".mobile-search"),f=document.querySelector(".font-resize"),g=document.querySelector("article"),v=document.querySelector(".breaking-news"),m=document.querySelector(".breaking-news p"),h=document.querySelector(".mega-menu"),p=document.getElementById("main-video");if(o.addEventListener("click",function(){n.classList.toggle("show"),i.classList.toggle("show"),o.classList.toggle("cross"),r.classList.toggle("noscroll")}),n.addEventListener("touchstart",function(e){e.preventDefault(),n.classList.toggle("show"),i.classList.toggle("show"),o.classList.toggle("cross"),r.classList.toggle("noscroll")},!1),a.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),h.classList.toggle("show"),this.classList.toggle("active")})},!1),c.forEach(function(t){void 0!==t&&null!==t&&t.addEventListener("click",e,!1)}),u.addEventListener("click",e,!1),document.addEventListener("keyup",function(e){l.classList.contains("show")?document.addEventListener("keyup",t,!1):document.removeEventListener("keyup",t)},!1),d.addEventListener("click",function(e){e.preventDefault(),l.classList.remove("show"),r.classList.remove("noscroll"),i.classList.remove("overflowfix")}),f&&f.addEventListener("click",function(e){e.preventDefault(),g.classList.toggle("bigger")}),(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)||navigator.userAgent.match(/Firefox/i))&&s.forEach(function(e){e.addEventListener("click",function(e){if("a"!==e.target.tagName.toLowerCase()){e.preventDefault(),e.stopPropagation(),this.classList.toggle("active");for(var t=getSiblings(this),o=0;o<t.length;o++)t[o].classList.contains("active")&&t[o].classList.remove("active")}},!1)}),p)var y=p.getBoundingClientRect().top,w=Math.floor(y+p.offsetHeight+window.pageYOffset);window.addEventListener("scroll",function(){if(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)||navigator.userAgent.match(/Firefox/i));else{var e=document.querySelector("header"),t=(document.querySelector("h1.logo"),document.querySelector("header nav"));window.pageYOffset>10?e.classList.add("sticky"):e.classList.remove("sticky"),window.pageYOffset>70?t.setAttribute("style","top="+window.pageYOffset+"px"):(t.classList.remove("moveR"),r.classList.remove("margintop")),window.pageYOffset>190?(t.classList.add("moveR"),r.classList.add("margintop")):(t.classList.remove("moveR"),r.classList.remove("margintop")),window.pageYOffset>190?(t.classList.add("moveD"),r.classList.add("margintop")):t.classList.remove("moveD"),h.classList.contains("show")&&(h.classList.remove("show"),a.forEach(function(e){e.classList.remove("active")})),p&&(window.pageYOffset>w&&p.classList.add("video-sticky"),window.pageYOffset<w-200&&p.classList.remove("video-sticky"))}}),window.onload=setTimeout(function(){["slider","dateSlider","slider1"].forEach(function(e){var t=document.getElementById(e);t&&(isVisible(t)?moveOneStep(t):window.onscroll=function(){isScrolledIntoView(t,moveOneStep)})})},0);var b=new XMLHttpRequest,L="",S="";b.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(this.responseText);""!=(L=e.result.text)?L!=S&&(m.innerText=L,v.classList.add("show"),S=L):v.classList.contains("show")&&v.classList.remove("show")}},b.open("GET","https://feed.alarabiya.net/breakingNews/ar.json",!0),b.send(),setInterval(function(){b.open("GET","https://feed.alarabiya.net/breakingNews/ar.json",!0),b.send()},5e3);var k=document.querySelector(".search-icon");k&&k.addEventListener("click",function(e){e.preventDefault(),document.getElementById("search-form").submit()})}();var arr=[];$(document).ready(function(){$(".font-resize a, .prnt a").removeAttr("href"),$(".tabs-menu a").click(function(e){e.preventDefault(),$(this).parent().addClass("current"),$(this).parent().siblings().removeClass("current");var t=$(this).attr("href");$(this).parent().parent().siblings(".tab").children().not(t).css("display","none"),$(t).fadeIn()}),$(".aa-live .close-btn").click(function(){$(".aa-live").addClass("hide-live")}),$(".live-open").click(function(){$(".aa-live").removeClass("hide-live")}),$("article .teaser-tools .share").click(function(){$(this).toggleClass("show-icons")})});var Carousel={duration:300};window.onload=function(){try{var e=Carousel.carousel=document.getElementById("ver-carousel"),t=e.getElementsByTagName("li"),o=t.length,n=Carousel.width;t.height;e.style.width=n+"px";for(var i=0;i<o;++i)t[i];Carousel.rowHeight=e.getElementsByTagName("li")[0].offsetHeight,e.style.visibility="visible";var r=Carousel.wrapper=document.createElement("div");r.id="carouselWrapper",r.style.width=e.offsetWidth+"px",r.style.height=e.offsetHeight+"px",e.parentNode.insertBefore(r,e),r.appendChild(e);var a=document.getElementById("caro-prev"),s=document.getElementById("caro-next");a.onclick=function(){a.disabled=s.disabled=!0,rotateForward(),animate(-Carousel.rowHeight,0,function(){e.style.top="0",a.disabled=s.disabled=!1})},s.onclick=function(){a.disabled=s.disabled=!0,animate(0,-Carousel.rowHeight,function(){rotateBackward(),e.style.top="0",a.disabled=s.disabled=!1})}}catch(e){console.log("error in windowLoad"+e.message)}},$(document).ready(function(){try{$(".section-aswaq  .search-input").length&&(console.log("start init search"),iniSearchAutoComplete(),loadSearch(),console.log("end init search"))}catch(e){console.log(e.message)}iframeGenerator(),iFrameResize({log:!1,checkOrigin:!1})}),$(document).ready(function(){$(window).scroll(function(){$(document).scrollTop()>=$("header.sticky").height()?($(".takeover_outer").addClass("fixed"),$(".takeover_outer").css("top","64px")):($(".takeover_outer").removeClass("fixed"),$(".takeover_outer").css("top","262px"),$(".section-page .takeover_outer").css("top","325px"))})});