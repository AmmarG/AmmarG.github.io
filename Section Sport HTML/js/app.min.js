"use strict";function isVisible(e){var t=e.getBoundingClientRect().top,n=e.getBoundingClientRect().bottom;return!!(t>=0&&n<=window.innerHeight)}function getSiblings(e){for(var t=[],n=e.parentNode.firstChild;n;n=n.nextSibling)1===n.nodeType&&n!==e&&t.push(n);return t}function isScrolledIntoView(e,t){isVisible(e)&&-1===arr.indexOf(e)&&(arr.push(e),t(e))}function checkVisible(e){var t=document.getElementById(e),n=t.getBoundingClientRect(),o=t.querySelector("#last").getBoundingClientRect(),i={};if(i.top=o.top-n.top,i.right=o.right-n.right,i.bottom=o.bottom-n.bottom,i.left=o.left-n.left,Math.abs(i.right)<=n.width)return i.left}function sliderStep(e,t){e.style.transform="translate3d("+t+"px, 0px, 0px)",e.style.webkitTransform="translate3d("+t+"px, 0px, 0px)",e.style.MozTransform="translate3d("+t+"px, 0px, 0px)",e.style.msTransform="translate3d("+t+"px, 0px, 0px)",e.setAttribute("step",t)}function transitionEndEventName(){var e,t=document.createElement("div"),n={transition:"transitionend",OTransition:"otransitionend",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in n)if(n.hasOwnProperty(e)&&void 0!==t.style[e])return n[e]}function moveOneStep(e){var t=e.querySelector(".slider"),n=t.children,o=t.querySelector(".active"),i=Array.prototype.indexOf.call(n,o),s=0,a=e.querySelector("#next"),r=e.querySelector("#prev"),c=e.querySelector("#last");if(o){for(var l=0;l<i-1;l++)s+=n[l].offsetWidth;sliderStep(t,s);var d=i-1,u={};u.sX=0,u.eX=0;function g(e){var t=e.touches[0];u.sX=t.screenX}t.addEventListener("touchstart",g,!1),t.addEventListener("touchmove",function(e){var t=e.touches[0];u.eX=t.screenX},!1),t.addEventListener("touchend",function(o){var i=checkVisible(e.id),a=s+n[d].offsetWidth;if(u.eX-20>u.sX||u.eX+20<u.sX)if(u.eX>u.sX)if(i){t.removeEventListener("touchMove",g);var r=parseInt(t.getAttribute("step"))+Math.abs(c.getBoundingClientRect().left);sliderStep(t,r)}else d<n.length-1&&(s=a,sliderStep(t,a),d+=1);else if(d>=1){var l=s-n[d-=1].offsetWidth;s=l,sliderStep(t,l)}},!1),a.addEventListener("click",function(o){!0===e.querySelector("#prev").disabled&&(e.querySelector("#prev").disabled=!1);c.getBoundingClientRect();var i=s+n[d].offsetWidth;s=i,d+=1;if(checkVisible(e.id))e.querySelector("#next").disabled=!0;else{var a=transitionEndEventName();t.addEventListener(a,function(){if(checkVisible(e.id)){var n=i+Math.abs(checkVisible(e.id));sliderStep(t,n),e.querySelector("#next").disabled=!0}}),sliderStep(t,i),e.querySelector("#next").disabled=!0,setTimeout(function(){e.querySelector("#next").disabled=!1},250)}},!1),r.addEventListener("click",function(o){if((d-=1)>0){!0===e.querySelector("#next").disabled&&(e.querySelector("#next").disabled=!1);var i=s-n[d].offsetWidth;sliderStep(t,i),s=i,e.querySelector("#prev").disabled=!0,setTimeout(function(){e.querySelector("#prev").disabled=!1},250)}else 0===d&&(i=s-n[d].offsetWidth,sliderStep(t,i),s=i,e.querySelector("#prev").disabled=!0)},!1)}else console.log("please set active")}function rotateForward(){var e=Carousel.carousel,t=e.children,n=t[0],o=t[t.length-1];e.insertBefore(o,n)}function rotateBackward(){var e=Carousel.carousel,t=e.children,n=t[0],o=t[t.length-1];e.insertBefore(n,o.nextSibling)}function animate(e,t,n){Carousel.wrapper;var o=Carousel.carousel,i=t-e,s=Carousel.duration,a=Date.now();o.style.top=e+"px";var r=window.setInterval(function(){var t=Date.now()-a;if(t>=s)return window.clearInterval(r),void n();var c=e+((t/=s/2)<1?i/2*Math.pow(t,3):i/2*(Math.pow(t-2,3)+2));o.style.top=c+"px"},1e3/60)}function iniSearchAutoComplete(){$.widget("custom.catcomplete",$.ui.autocomplete,{_create:function(){this._super(),this.widget().menu("option","items","> :not(.ui-autocomplete-category)")},_renderMenu:function(e,t){var n=this,o="";e.append('<li class="search_news"><a>البحث في الأخبار</a></li>'),$.each(t,function(t,i){var s;i.category!=o&&(e.append("<li class='ui-autocomplete-category'>"+i.category+"</li>"),o=i.category),s=n._renderItemData(e,i),i.category&&(s.attr("aria-label",i.category+" : "+i.label),s.attr("aria-link",i.url))})}})}function loadSearch(){var e;$(".section-aswaq .search-input").catcomplete({delay:0,source:function(t,n){var o=new RegExp(t.term,"i");e&&e.abort(),e=$.ajax({url:"/.resources/aa-templating-lm/webresources/static/aswaq/market-data.json",dataType:"json",cache:!1,success:function(e){var t=$.map(e.list,function(e){if(o.test(e.label))return{label:e.label,category:e.category,url:e.url}});0==t.length&&(t=[{label:"",category:"",url:""}]),n(t)}})},minlength:0,select:function(e,t){if(console.log("select"),void 0===t.item){console.log("select undefined");var n=$(".section-aswaq .search-input").val();window.location.href=seartchPageLink+"?lang=ar&q="+n}else console.log(t.item.url),window.location.href=t.item.url}})}!function(){function e(e){e.preventDefault(),s.classList.toggle("noscroll"),l.classList.toggle("show"),i.classList.toggle("overflowfix")}function t(e){27==(e=e||window.event).keyCode&&l.classList.contains("show")&&(s.classList.remove("noscroll"),l.classList.remove("show"),i.classList.remove("overflowfix"))}var n=document.querySelector(".mobile-menu"),o=document.querySelector(".overlay"),i=document.querySelector("nav .main-content"),s=(i.querySelector("main-content"),document.getElementById("slider"),document.querySelector("body")),a=document.querySelectorAll(".menu-icon"),r=document.querySelectorAll(".submenu"),c=(document.querySelector(".submenu.current-section"),document.querySelectorAll(".btn-search")),l=document.querySelector(".search-overlay"),d=document.querySelector(".search-overlay .close"),u=document.querySelector(".mobile-search"),g=document.querySelector(".font-resize"),f=document.querySelector("article"),v=document.querySelector(".breaking-news"),m=document.querySelector(".breaking-news p"),h=document.querySelector(".mega-menu"),p=document.getElementById("main-video");if(n.addEventListener("click",function(){o.classList.toggle("show"),i.classList.toggle("show"),n.classList.toggle("cross"),s.classList.toggle("noscroll")}),o.addEventListener("touchstart",function(e){e.preventDefault(),o.classList.toggle("show"),i.classList.toggle("show"),n.classList.toggle("cross"),s.classList.toggle("noscroll")},!1),a.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),h.classList.toggle("show"),this.classList.toggle("active")})},!1),c.forEach(function(t){void 0!==t&&null!==t&&t.addEventListener("click",e,!1)}),u.addEventListener("click",e,!1),document.addEventListener("keyup",function(e){l.classList.contains("show")?document.addEventListener("keyup",t,!1):document.removeEventListener("keyup",t)},!1),d.addEventListener("click",function(e){e.preventDefault(),l.classList.remove("show"),s.classList.remove("noscroll"),i.classList.remove("overflowfix")}),g&&g.addEventListener("click",function(e){e.preventDefault(),f.classList.toggle("bigger")}),navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)||navigator.userAgent.match(/Firefox/i))r.forEach(function(e){e.addEventListener("click",function(e){if("a"!==e.target.tagName.toLowerCase()){e.preventDefault(),e.stopPropagation(),this.classList.toggle("active");for(var t=getSiblings(this),n=0;n<t.length;n++)t[n].classList.contains("active")&&t[n].classList.remove("active")}},!1)});else{var y=document.querySelector(".alhadath-nav");y&&setInterval(function(){y.classList.toggle("switch")},1e4)}if(p)var w=p.getBoundingClientRect().top,b=Math.floor(w+p.offsetHeight+window.pageYOffset);window.addEventListener("scroll",function(){if(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i)||navigator.userAgent.match(/Firefox/i));else{var e=document.querySelector("header"),t=(document.querySelector("h1.logo"),document.querySelector("header nav"));window.pageYOffset>10?e.classList.add("sticky"):e.classList.remove("sticky"),window.pageYOffset>70?t.setAttribute("style","top="+window.pageYOffset+"px"):(t.classList.remove("moveR"),s.classList.remove("margintop")),window.pageYOffset>190?(t.classList.add("moveR"),s.classList.add("margintop")):(t.classList.remove("moveR"),s.classList.remove("margintop")),window.pageYOffset>190?(t.classList.add("moveD"),s.classList.add("margintop")):t.classList.remove("moveD"),h.classList.contains("show")&&(h.classList.remove("show"),a.forEach(function(e){e.classList.remove("active")})),p&&(window.pageYOffset>b&&p.classList.add("video-sticky"),window.pageYOffset<b-200&&p.classList.remove("video-sticky"))}}),window.onload=setTimeout(function(){["slider","dateSlider","slider1"].forEach(function(e){var t=document.getElementById(e);t&&(isVisible(t)?moveOneStep(t):window.onscroll=function(){isScrolledIntoView(t,moveOneStep)})})},0);var L=new XMLHttpRequest,S="",q="";L.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(this.responseText);""!=(S=e.result.text)?S!=q&&(m.innerText=S,v.classList.add("show"),q=S):v.classList.contains("show")&&v.classList.remove("show")}},L.open("GET","https://feed.alarabiya.net/breakingNews/ar.json",!0),L.send(),setInterval(function(){L.open("GET","https://feed.alarabiya.net/breakingNews/ar.json",!0),L.send()},5e3);document.querySelector(".search-icon").addEventListener("click",function(e){e.preventDefault(),document.getElementById("search-form").submit()})}();var arr=[];$(document).ready(function(){$(".font-resize a, .prnt a").removeAttr("href"),$(".tabs-menu a").click(function(e){e.preventDefault(),$(this).parent().addClass("current"),$(this).parent().siblings().removeClass("current");var t=$(this).attr("href");$(this).parent().parent().siblings(".tab").children().not(t).css("display","none"),$(t).fadeIn()}),$(".aa-live .close-btn").click(function(){$(".aa-live").addClass("hide-live")}),$(".live-open").click(function(){$(".aa-live").removeClass("hide-live")}),$("article .teaser-tools .share").click(function(){$(this).toggleClass("show-icons")})});var Carousel={duration:300};window.onload=function(){try{var e=Carousel.carousel=document.getElementById("ver-carousel"),t=e.getElementsByTagName("li"),n=t.length,o=Carousel.width;t.height;e.style.width=o+"px";for(var i=0;i<n;++i)t[i];Carousel.rowHeight=e.getElementsByTagName("li")[0].offsetHeight,e.style.visibility="visible";var s=Carousel.wrapper=document.createElement("div");s.id="carouselWrapper",s.style.width=e.offsetWidth+"px",s.style.height=e.offsetHeight+"px",e.parentNode.insertBefore(s,e),s.appendChild(e);var a=document.getElementById("caro-prev"),r=document.getElementById("caro-next");a.onclick=function(){a.disabled=r.disabled=!0,rotateForward(),animate(-Carousel.rowHeight,0,function(){e.style.top="0",a.disabled=r.disabled=!1})},r.onclick=function(){a.disabled=r.disabled=!0,animate(0,-Carousel.rowHeight,function(){rotateBackward(),e.style.top="0",a.disabled=r.disabled=!1})}}catch(e){console.log("error in windowLoad"+e.message)}},$(document).ready(function(){try{$(".section-aswaq  .search-input").length&&(console.log("start init search"),iniSearchAutoComplete(),loadSearch(),console.log("end init search"))}catch(e){console.log(e.message)}iFrameResize({log:!1,checkOrigin:!1})});