function reverse(e){var o=-1,t=e.length;for(e.reverse();++o<t;)e[o]=~e[o]}function noop(){}var type=require("./type"),prune=require("./prune"),clockwise=require("./clockwise"),systems=require("./coordinate-systems"),topojson=require("../../");module.exports=function(e,o){function t(o){return r.absoluteArea(r.ringArea(topojson.feature(e,{type:"Polygon",arcs:[o]}).geometry.coordinates[0]))}var r=null,n=!0;o&&("coordinate-system"in o&&(r=systems[o["coordinate-system"]]),"force-clockwise"in o&&(n=!!o["force-clockwise"])),n&&clockwise(e,o);var i=type({LineString:noop,MultiLineString:noop,Point:noop,MultiPoint:noop,Polygon:function(e){t(e.arcs[0])<=0&&(e.type=null,delete e.arcs)},MultiPolygon:function(e){e.arcs=e.arcs.filter(function(e){return t(e[0])>0}),e.arcs.length||(e.type=null,delete e.arcs)},GeometryCollection:function(e){this.defaults.GeometryCollection.call(this,e),e.geometries=e.geometries.filter(function(e){return null!=e.type}),e.geometries.length||(e.type=null,delete e.geometries)}});for(var s in e.objects)i.object(e.objects[s]);prune(e,o)};